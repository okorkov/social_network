<link rel="stylesheet" href="/stylesheets/friends.css" />

<section class="friends_search_bar">
  <form action='/friends/search' method='get'>
    <input type="text" name="name" size="50" placeholder="search for users" required>
    <input type="submit" value="search">
  </form><br>
</section>

<div class="friends">
  <h1>Your Friends:</h1><br><br>
    <%if @friends.size > 0 %>
      <%@friends.each do |user|%>
          <a href="../profile/<%=user.id%>"><p> <%="#{user.first_name} #{user.last_name}"%> </a>
        <%if user.avatar != nil%> 
          <img src="<%=user.avatar%>" width="30" height="30" style="border: 3px solid rgb(143, 18, 18);">
        <%else%>
          <img src="/images/profile_default.png" width="30" height="30" style="border: 3px solid rgb(143, 18, 18);">
        <%end%>
      <%end%>
    <%else%>
      <h3>You don't have any friends added yet, try to serach people you know and add them to your friend list</h3><br><br>
    <%end%><br><br><br>
  <h1>Pending Friend Requests:</h1><br><br>
  <%if @pending_friendship[:incoming].size > 0 %>
    <h3>Incoming:</h3><br>
    <%@pending_friendship[:incoming].each do |user|%>
      <a href="../profile/<%=user.id%>"><p> <%="#{user.first_name} #{user.last_name}"%> </a>
      <%if user.avatar != nil%> 
        <img src="<%=user.avatar%>" width="30" height="30" style="border: 3px solid rgb(143, 18, 18);">
      <%else%>
        <img src="/images/profile_default.png" width="30" height="30" style="border: 3px solid rgb(143, 18, 18);">
      <%end%>
    <%end%>
  <%end%><br><br><br>
  <%if @pending_friendship[:outgoing].size > 0 %>
  <h3>Outgoing:</h3><br>
    <%@pending_friendship[:outgoing].each do |user|%>
      <a href="../profile/<%=user.id%>"><p> <%="#{user.first_name} #{user.last_name}"%> </a>
      <%if user.avatar != nil%> 
        <img src="<%=user.avatar%>" width="30" height="30" style="border: 3px solid rgb(143, 18, 18);">
      <%else%>
        <img src="/images/profile_default.png" width="30" height="30" style="border: 3px solid rgb(143, 18, 18);">
      <%end%>
    <%end%>
  <%end%>
  <%if @pending_friendship[:outgoing].size == 0 && @pending_friendship[:incoming].size == 0%>
    <h3>You don't have any pending friend requests</h3>
  <%end%>

</div>

